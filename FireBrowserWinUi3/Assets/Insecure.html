<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Insecure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        @keyframes glowing {
            0% {
                box-shadow: 0 0 5px red;
            }

            50% {
                box-shadow: 0 0 20px red;
            }

            100% {
                box-shadow: 0 0 5px red;
            }
        }

        .glowing-border {
            border: 1px solid red;
            animation: glowing 1.5s infinite;
        }

        body {
            background-color: #f3f4f6;
            font-family: 'Roboto', sans-serif;
            text-align: center;
            padding: 50px;
        }
    </style>
</head>

<body class="flex items-center justify-center min-h-screen">
    <div class="bg-white shadow-lg rounded-lg p-10 max-w-5xl w-full flex flex-col md:flex-row text-center md:text-left glowing-border">
        <div class="md:w-2/3 p-6">
            <div class="text-red-500 text-6xl mb-4">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h1 class="text-3xl font-bold mb-4">Site Insecure</h1>
            <p class="text-lg text-gray-600 mb-6">Your connection to this site is not secure.</p>
            <div class="bg-gray-100 p-6 rounded-lg mb-4">
                <div class="flex justify-between items-center">
                    <span class="font-bold">IP Address:</span>
                    <span id="ip-address">Loading...</span>
                </div>
                <div class="flex justify-between items-center mt-2">
                    <span class="font-bold">Reason:</span>
                    <span>Invalid SSL Certificate</span>
                </div>
                <div class="flex justify-between items-center mt-2">
                    <span class="font-bold">Ray ID:</span>
                    <span id="ray-id">Generating...</span>
                </div>
            </div>
            <p class="text-gray-500 mb-6">If you believe this is an error, you can choose to proceed at your own risk.</p>
            <button id="continue-btn" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">Continue</button>
        </div>
        <div class="md:w-1/3 p-6 bg-gray-100 rounded-lg shadow-inner mt-6 md:mt-0 md:ml-4">
            <h2 class="text-xl font-bold mb-4">Potential Risks</h2>
            <ul class="list-disc list-inside text-left text-gray-700">
                <li>Attackers might steal your personal information.</li>
                <li>Credit card details could be compromised.</li>
                <li>Passwords and other sensitive data may be exposed.</li>
                <li>Malicious software could be installed on your device.</li>
                <li>Browsing activity can be monitored.</li>
            </ul>
        </div>
    </div>

    <script>
        function sendWebMessage(message) {
            if (window.chrome && window.chrome.webview && window.chrome.webview.postMessage) {
                window.chrome.webview.postMessage(message);
            } else {
                console.error('WebView2 environment does not support postMessage.');
            }
        }

        function getCurrentURL() {
            return window.location.host;
        }

        function generateRayID() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let rayID = '';
            for (let i = 0; i < 10; i++) {
                rayID += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return rayID;
        }

        document.getElementById('ip-address').textContent = getCurrentURL();
        document.getElementById('ray-id').textContent = generateRayID();

        document.getElementById('continue-btn').addEventListener('click', function () {
            alert('You have chosen to proceed at your own risk.');
            sendWebMessage('allowed');
            window.location.href = 'http://' + getCurrentURL();
        });
    </script>
</body>

</html>
