<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="FireBrowserWinUi3.Pages.SettingsPages.SettingsHome"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="using:CommunityToolkit.WinUI.Behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:firebrowser="using:FireBrowserWinUi3.Controls"
    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:labs="using:CommunityToolkit.WinUI.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:person="using:FireBrowserWinUi3Core.Helpers"
    mc:Ignorable="d">
    <Grid>
        <StackPanel Margin="0,5,0,0">
            <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                <PersonPicture Width="64" ProfilePicture="{person:ProfileImage ImageName=profile_image.jpg}" />
                <StackPanel Margin="10,0,0,0" VerticalAlignment="Center">
                    <TextBlock
                        Name="User"
                        FontSize="15"
                        Style="{ThemeResource SubtitleTextBlockStyle}"
                        Text="FireBrowser User" />
                    <TextBlock FontSize="12" Text="Browser account" />
                </StackPanel>
            </StackPanel>
            <labs:SettingsCard Margin="0,5,0,0" VerticalAlignment="Bottom">
                <labs:SettingsCard.Header>
                    Check for internal component updates
                </labs:SettingsCard.Header>
                <Button x:Name="PatchBtn" Click="PatchBtn_Click">
                    Check For Updates
                </Button>
            </labs:SettingsCard>
            <labs:SettingsCard Margin="0,5,0,0" VerticalAlignment="Bottom">
                <labs:SettingsCard.Header>
                    Reset App
                </labs:SettingsCard.Header>
                <Button x:Name="Reset" Click="Reset_Click">
                    Reset Browser - Settings
                </Button>
            </labs:SettingsCard>
            <labs:SettingsCard>
                <labs:SettingsCard.Header>
                    FireVault - FireBrowser
                </labs:SettingsCard.Header>
                <Button
                    x:Name="OpenVault"
                    Width="150"
                    IsEnabled="False">
                    <StackPanel>
                        <TextBlock x:Name="TextOpen" Text="Open Vault" />
                    </StackPanel>
                </Button>
            </labs:SettingsCard>
            <labs:SettingsCard>
                <labs:SettingsCard.Header>
                    Profiles
                </labs:SettingsCard.Header>
                <Button
                    x:Name="Add"
                    Click="Add_Click"
                    IsEnabled="True"
                    ToolTipService.ToolTip="Add User ( Temp Disabled Reworking Feature )">
                    Add
                </Button>
            </labs:SettingsCard>
            <Grid
                BorderBrush="{ThemeResource AccentFillColorSecondaryBrush}"
                BorderThickness=".4"
                CornerRadius="4">
                <ScrollViewer>
                    <ListView x:Name="UserListView">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Grid Background="{ThemeResource AccentTextFillColorSecondaryBrush}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <!--  For the profile picture  -->
                                        <ColumnDefinition Width="*" />
                                        <!--  For the username  -->
                                        <ColumnDefinition Width="Auto" />
                                        <!--  For the "Switch" button  -->
                                    </Grid.ColumnDefinitions>

                                    <PersonPicture
                                        Width="32"
                                        Height="32"
                                        Margin="10" />
                                    <!--  Username  -->
                                    <TextBlock
                                        x:Name="userName"
                                        Grid.Column="1"
                                        Margin="10,0,10,0"
                                        VerticalAlignment="Center"
                                        x:FieldModifier="Public"
                                        Text="{Binding}" />
                                    <!--  "Switch" button  -->
                                    <Button
                                        x:Name="Switch"
                                        Grid.Column="2"
                                        Margin="-20"
                                        Click="Switch_Click"
                                        Content="{firebrowser:FluentIcon Glyph=&#xE748;}"
                                        IsEnabled="True"
                                        Style="{ThemeResource QuietButtonStyle}" />

                                    <Button
                                        x:Name="Delete"
                                        Grid.Column="2"
                                        Margin="10"
                                        Click="Delete_Click"
                                        Content="{firebrowser:FluentIcon Glyph=&#xE74D;}"
                                        IsEnabled="True"
                                        Style="{ThemeResource QuietButtonStyle}" />
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </ScrollViewer>
            </Grid>
        </StackPanel>
        <TextBlock VerticalAlignment="Bottom">
            ALPHA V3 RELEASE, EXPECT BUGS<LineBreak />
            V0.0.8.00339ap Build: 101.2358 Framework: WASDK/WinUI3<LineBreak />
            Contact: firebrowserdevs@gmail.com</TextBlock>
    </Grid>
</Page>